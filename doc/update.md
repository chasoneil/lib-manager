# update log

## 2024.12.22
- 新增账单和用户绑定，只有用户和管理员才能查看账单，管理员用户可以查看所有账单
- 新增可以获取指定年份的所有花费和收入的方法

> 修复
- 修复管理员重置密码时，前端页面不会自动关闭的问题
- 修改重置密码提示词: 重置密码成功
- 修改用户修改密码的提示词: 修改密码成功
- 修改用户登录首页，将首页定位为账单管理

## 2024.12.23
- 账单页面新增交易平台下拉框，可以选择交易平台进行筛选
- 新增删除和批量删除的功能
- 新增页面根据交易类型概率匹配的搜索功能

- 修改数据表，订单号和导入的用户合并为主键，方便多个用户导入同一订单
- 修改项目启动提示词
- 修复导入数据格式变动导入失败的问题
- 修复支付宝微信账单文件中，描述文件删除导致的导入数据失败
- 修复表格操作栏显示异常的问题

- 删除记一笔和编辑的功能，该功能后序开发上线
- 删除导出账单功能，该功能后序开发上线

## 2024.12.24
- 新增账单页面高级搜索功能，可以针对商品说明、交易对方进行搜索
- 新增账单页面刷新按钮，清空高级搜索的条件
- 新增 大数据页面日期和时钟
- 新增 大数据页面表格模板

## 2024.12.25
- 新增大数据页面，年账单展示 

## 2024.12.30
- 修复新增部门时，排序号没有填写造成新增失败
- 修复修改部门信息时，显示部门已存在的问题
- 删除部门列表上的搜索功能
- 修改正式导入的信息表名为tbl_trade
- tbl_trade 新增checked字段
- 账单页面交易时间仅展示日期

- 新增记账模块，可以对账单进行记账，记账后可以查看记账记录(开发中)

## 2024.12.31
- 新增记账模块新增记账功能
- 新增页面日期选择器默认选择当前日期
- 新增记账模块修改记账功能
- 新增记账模块删除功能
- 新增记账模块逻辑，某天某笔消费只能记账一次

## 2025.1.2
- 新增账单分类的数据字典，用户可以自行设置
- 数据字典分为一级和二级菜单
- 新增账单分类的新增、修改、删除功能

## 2025.1.3
- 删除部分无用代码
- 修复记账模块搜索功能
- 新增账单字典的用户权限管理
- 新增并完成账单拆分功能

## 2025.1.5
- 修复拆分账单并没有拆分直接保存报错的问题
- 修复 记账的金额不能 < 0

- 新增 拆分账单显示原账单数据，并根据拆分的金额动态修改原账单的剩余金额
- 新增 二级菜单的名称不能和一级菜单一样
- 新增 记账新增交易明细 明细和备注分开
- 新增 记账的账单拆分功能
- 新增 账单新增交易类型，账单支持修改，商品说明支持修改

- 删除 账单的交易状态和交易平台列表展示
- 删除 记账表的交易状态
 
- 修改 记账新增大类，支出还是收入，根据大类展示二级菜单
- 修改 交易状态的按钮功能，将其设置为不可点击
- 修改 账单分类字典变成树状图，根据一级分类进行分类

## 2025.1.13
- 新增 记账新增交易明细 明细和备注分开
- 优化所有表结构
- 解绑深度支出和账单周期，用户可以自行选择
- 新增记账模块搜索功能，可以根据时间，深度支出分类，消费人进行搜索
- 记账模块新增支付账户，支付方式